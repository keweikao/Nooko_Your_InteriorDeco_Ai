# 🚀 HouseIQ 本地測試 - 快速啟動

## ⏱️ 5 分鐘快速啟動

### 準備兩個終端機視窗

---

## 終端機 1️⃣：啟動後端

```bash
cd /Users/stephen/Desktop/Nooko_Your_InteriorDeco_Ai/analysis-service
pip3 install -r requirements.txt
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
```

**等待看到**：
```
INFO:     Application startup complete.
```

✅ **測試後端**：開啟瀏覽器訪問 http://localhost:8000
應該看到：`{"message": "Analysis Service is running!"}`

---

## 終端機 2️⃣：啟動前端

```bash
cd /Users/stephen/Desktop/Nooko_Your_InteriorDeco_Ai/web-service
npm install
npm run dev
```

**等待看到**：
```
➜  Local:   http://localhost:5173/
```

✅ **測試前端**：開啟瀏覽器訪問 http://localhost:5173
應該看到 HouseIQ 歡迎頁面

---

## 🧪 完整測試流程

### 1. 歡迎頁面
- 確認看到專案 ID
- 點擊「開始使用」

### 2. 上傳報價單（可跳過）
- 選擇任意檔案上傳，或
- 點擊「跳過上傳，直接進入需求訪談」

### 3. 互動式訪談（重點！）

系統會問大約 **32 個問題**，涵蓋：

#### 核心問題類型：

**基本資訊**
- 您的稱呼

**空間與預算**
- 使用目的（自住/出租）
- 房屋狀況（漏水、壁癌等）
- 預算區間
- 時程壓力

**設計風格**
- 保留或更新
- 風格偏好（北歐/現代/工業等）
- 照明收納需求

**拆除與保護**（⭐ 新增重點）
- 拆除項目
- ⭐ **垃圾清運費**（報價是否包含/贈送）
- ⭐ **施工後保護與清潔**

**油漆工程**（⭐ 優化重點）
- ⭐ **品牌標示**（ICI約1500/坪、班傑明約3200/坪）
- ⭐ **計價方式**（坪數 vs 一式）
- ⭐ **工法細節**（透批、批土標準、底漆面漆）
- ⭐ **壁紙去除**（完整去除vs批土掩蓋）

**木作工程**（⭐ 新增重點）
- 天花板造型（需報審）
- ⭐ **贈送項目風險提醒**

**施工條件**（⭐ 新增重點）
- ⭐ **社區管理規定**（陽台鐵窗、燈色、施工時間）
- 電梯出入狀況
- 其他廠商協調

**其他工程**
- 防水、水電、機電、泥作、磁磚、系統櫃、地板等

**驗收保固**
- 入住時間
- 施工記錄
- 保固重點

---

### 4. 新功能測試重點

#### ✨ 同理心訊息（綠色框）
留意以下問題會有同理心訊息：
- 基本資訊：「很高興認識您！」
- 房屋狀況：「了解房屋狀況能幫我們更準確評估...」
- 預算：「預算規劃很重要，我會根據您的預算提供...」
- 垃圾清運：「如果是『贈送』，建議請業者明訂...」
- 油漆品牌：「油漆品牌的價差可以很大...」
- 油漆工法：「油漆價差很大原因之一就是『批土程度』...」
- 壁紙去除：「底紙沒去乾淨不能只用批土蓋過...」
- 贈送項目：「贈送的項目無法要求廠商完善或負責...」
- 社區規定：「有些社區會規定陽台不能加鐵窗...」
- 天花板：「天花板固著於結構體需要申請許可...」

#### ⏭️ 跳過選項（紫色框 + 按鈕）
以下問題可以點擊「稍後再決定」：
- 房屋狀況（如果不確定）
- 垃圾清運費
- 施工保護與清潔
- 油漆計價方式
- 油漆工法細節
- 壁紙去除
- 社區規定
- 電梯狀況

#### ℹ️ 資訊目的（橘色框）
每個問題都會說明「為什麼要問這個問題」

---

### 5. 訪談完成

- 看到綠色勾勾圖示
- 顯示您的完整需求總結
- 進度條 100%
- 2秒後自動跳轉到結果頁

### 6. 檢查專案簡報

按 F12 開啟開發者工具，在 Console 可以看到完整的 `project_brief` 物件，包含所有答案。

---

## 🎯 重點測試項目

### 必測功能

- [ ] 同理心訊息正確顯示（綠色框）
- [ ] 跳過建議正確顯示（紫色框）
- [ ] 「稍後再決定」按鈕可用
- [ ] 進度條持續更新
- [ ] 所有 32 題都能完成
- [ ] 專案簡報正確生成

### 產業回饋驗證

- [ ] 垃圾清運費問題（包含/贈送/沒提到）
- [ ] 施工保護與清潔問題
- [ ] 油漆品牌與價格參考（ICI/班傑明）
- [ ] 油漆計價方式（坪數/一式）
- [ ] 油漆工法細節（透批、批土標準）
- [ ] 壁紙去除正確做法（不用批土掩蓋）
- [ ] 贈送項目風險提醒
- [ ] 社區管理規定（陽台、燈色、時間）
- [ ] 天花板報審提醒

---

## 📊 預期問題數量

**總計：約 32 題**

分類統計：
- 基本資訊：1 題
- 空間現況：4 題
- 預算期望：3 題
- 設計風格：3 題
- 拆除保護：3 題 ⭐ (新增垃圾清運、保護清潔)
- 防水工程：1 題
- 水電工程：2 題
- 機電整合：1 題
- 泥作工程：1 題
- 磁磚石材：1 題
- 木作工程：2 題 ⭐ (新增贈送項目)
- 系統櫃：1 題
- 油漆工程：4 題 ⭐ (新增品牌/計價/工法/壁紙)
- 地板工程：1 題
- 施工條件：3 題 ⭐ (新增社區規定)
- 驗收保固：3 題

---

## 🐛 如果遇到問題

### 後端錯誤
```bash
# 重新安裝依賴
pip3 install -r requirements.txt --upgrade
```

### 前端錯誤
```bash
# 清除並重新安裝
rm -rf node_modules package-lock.json
npm install
```

### CORS 錯誤
- 確認後端有啟動
- 重啟兩個服務

### 問題無法繼續
- 檢查 Console 錯誤訊息
- 確認有填寫答案（不能空白）
- 檢查 Network 分頁的 API 回應

---

## 📝 測試建議

1. **完整跑一遍**：至少完成一次完整訪談
2. **測試跳過**：試試看點擊「稍後再決定」
3. **測試不同答案**：試不同的選項組合
4. **檢查訊息**：確認同理心訊息顯示合理
5. **查看簡報**：在 Console 檢查最終的專案簡報

---

## ✅ 測試完成檢查

完成測試後，確認：

- [ ] 後端服務正常運行
- [ ] 前端服務正常運行
- [ ] 可以完成完整訪談流程
- [ ] 同理心設計符合預期
- [ ] 產業回饋都已整合
- [ ] 專案簡報正確生成

---

**測試愉快！有任何問題請查看 `LOCAL_TESTING_GUIDE.md` 的詳細說明。**
